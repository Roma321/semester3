ref работает намного быстрей в булевом контексте, т. к. больше не создаётся временная строка вроде FooARRAY.